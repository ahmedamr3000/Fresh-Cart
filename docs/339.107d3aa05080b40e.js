"use strict";(self.webpackChunkproj=self.webpackChunkproj||[]).push([[339],{6339:(v,_,i)=>{i.r(_),i.d(_,{WishlistComponent:()=>C});var a=i(6814),t=i(5879),h=i(8936),l=i(6968),n=i(2425);function g(o,p){if(1&o){const s=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"img",9),t.qZA(),t.TgZ(3,"div",10)(4,"div",11)(5,"div")(6,"h3",12),t._uU(7),t.qZA(),t.TgZ(8,"p",13),t._uU(9),t.qZA(),t.TgZ(10,"button",14),t.NdJ("click",function(){const d=t.CHM(s).$implicit,u=t.oxw(2);return t.KtG(u.removewishlist(d._id))}),t._UZ(11,"i",15),t._uU(12," Remove "),t.qZA()(),t.TgZ(13,"div")(14,"button",16),t.NdJ("click",function(){const d=t.CHM(s).$implicit,u=t.oxw(2);return t.KtG(u.addCart(d._id))}),t._uU(15," Add To Cart "),t.qZA()()()()()}if(2&o){const s=p.$implicit;t.xp6(2),t.Q6J("src",s.imageCover,t.LSH),t.xp6(5),t.Oqu(s.title),t.xp6(2),t.hij("Price : ",s.price," EGP")}}function e(o,p){if(1&o&&(t.TgZ(0,"section",2)(1,"div",3)(2,"h3",4),t._uU(3,"My wish List"),t.qZA(),t._UZ(4,"div",5),t.YNc(5,g,16,3,"div",6),t.qZA()()),2&o){const s=t.oxw();t.xp6(5),t.Q6J("ngForOf",s.cartDetails)}}function c(o,p){1&o&&(t.TgZ(0,"h2",17),t._uU(1,"Your Wish list Is Empty..."),t.qZA())}let C=(()=>{class o{constructor(s,r,m){this._CartService=s,this._WishlistService=r,this.toster=m,this.cartDetails=null}removewishlist(s){this._WishlistService.removeItem(s).subscribe({next:r=>{this._WishlistService.wishitems.next(r.data.length),this.cartDetails=r.data,this.ngOnInit()}})}ngOnInit(){this._WishlistService.getwishlist().subscribe({next:s=>{this.cartDetails=s.data}})}addCart(s){this._CartService.addtocart(s).subscribe({next:r=>{this.toster.success(r.message,"",{timeOut:2500,closeButton:!0,progressBar:!0}),this._CartService.cartitems.next(r.numOfCartItems)}})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(h.N),t.Y36(l.M),t.Y36(n._W))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","my-5 py-5",4,"ngIf","ngIfElse"],["msg",""],[1,"my-5","py-5"],[1,"container","my-5","py-5","p-5","bg-main-light","rounded-3"],[1,"fw-bold"],[1,"d-flex","justify-content-between"],["class","row border-bottom py-3 align-items-center fw-bold",4,"ngFor","ngForOf"],[1,"row","border-bottom","py-3","align-items-center","fw-bold"],[1,"col-md-2","mb-2"],["alt","",1,"w-100",3,"src"],[1,"col-md-10"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h5"],[1,"text-main","m-0"],[1,"btn","p-0","m-0","text-danger",3,"click"],[1,"fa-regular","fa-trash-can","text-danger"],[1,"btn-main",3,"click"],[1,"text-center","py-5","my-5"]],template:function(r,m){if(1&r&&(t.YNc(0,e,6,1,"section",0),t.YNc(1,c,2,0,"ng-template",null,1,t.W1O)),2&r){const d=t.MAs(2);t.Q6J("ngIf",m.cartDetails)("ngIfElse",d)}},dependencies:[a.ez,a.sg,a.O5]})}return o})()},8936:(v,_,i)=>{i.d(_,{N:()=>l});var a=i(5619),t=i(5879),h=i(9862);let l=(()=>{class n{constructor(e){this._HttpClient=e,this.headers={token:localStorage.getItem("etoken")},this.cartitems=new a.X(0)}addtocart(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:e},{headers:this.headers})}getusercart(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart",{headers:this.headers})}removeItem(e){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${e}`,{headers:this.headers})}updateitems(e,c){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${e}`,{count:c},{headers:this.headers})}senddata(e,c){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${c}?url=http://localhost:4200`,{shippingAddress:e},{headers:this.headers})}clear(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart",{headers:this.headers})}static#t=this.\u0275fac=function(c){return new(c||n)(t.LFG(h.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},6968:(v,_,i)=>{i.d(_,{M:()=>l});var a=i(5619),t=i(5879),h=i(9862);let l=(()=>{class n{constructor(e){this._HttpClient=e,this.headers={token:localStorage.getItem("etoken")},this.wishitems=new a.X(0)}addwishlist(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/wishlist",{productId:e},{headers:this.headers})}getwishlist(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/wishlist",{headers:this.headers})}removeItem(e){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/wishlist/${e}`,{headers:this.headers})}static#t=this.\u0275fac=function(c){return new(c||n)(t.LFG(h.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);