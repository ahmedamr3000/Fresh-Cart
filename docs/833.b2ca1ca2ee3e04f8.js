"use strict";(self.webpackChunkproj=self.webpackChunkproj||[]).push([[833],{1833:(U,g,n)=>{n.r(g),n.d(g,{HomeComponent:()=>S});var _=n(9837),c=n(6814),u=n(6261),p=n(2836),l=n(6223),d=n(6472),t=n(5879),h=n(3516),v=n(8936),f=n(2425),x=n(6968);function T(s,r){1&s&&t._UZ(0,"img",14)}function C(s,r){1&s&&t._UZ(0,"img",15)}function P(s,r){1&s&&t._UZ(0,"img",16)}function O(s,r){if(1&s&&(t.TgZ(0,"div"),t._UZ(1,"img",17),t.TgZ(2,"h3",18),t._uU(3),t.qZA()()),2&s){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH)("alt",e.name),t.xp6(2),t.Oqu(e.name)}}function Z(s,r){1&s&&(t.ynx(0),t.YNc(1,O,4,3,"ng-template",3),t.BQk())}function E(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"i",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,o=t.oxw();return t.KtG(o.addwishlist(a._id))}),t.qZA()}}function A(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,o=t.oxw();return t.KtG(o.removewishlist(a._id))}),t.qZA()}}const M=function(s){return["/details",s]};function D(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"div",21),t._UZ(3,"img",22),t.TgZ(4,"h3",23),t._uU(5),t.qZA(),t.TgZ(6,"h4",24),t._uU(7),t.qZA(),t.TgZ(8,"div",25)(9,"span"),t._uU(10),t.qZA(),t.TgZ(11,"div"),t._UZ(12,"i",26),t.TgZ(13,"span",27),t._uU(14),t.qZA()()()(),t.YNc(15,E,1,0,"i",28),t.YNc(16,A,1,0,"i",29),t.TgZ(17,"button",30),t.NdJ("click",function(){const o=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.addCart(o._id))}),t._uU(18," Add To Cart "),t.qZA()()()}if(2&s){const e=r.$implicit,i=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(9,M,e._id)),t.xp6(1),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title),t.xp6(2),t.Oqu(e.category.name),t.xp6(2),t.hij(" ",e.title.split(" ").slice(0,2).join(" ")," "),t.xp6(3),t.hij("",e.price," EGP"),t.xp6(4),t.Oqu(e.ratingsAverage),t.xp6(1),t.Q6J("ngIf",!i.wish.includes(e._id)),t.xp6(1),t.Q6J("ngIf",i.wish.includes(e._id))}}const w=function(s,r,e){return{id:"232323",itemsPerPage:s,currentPage:r,totalItems:e}};let S=(()=>{class s{constructor(e,i,a,o){this._HomeServeService=e,this._CartService=i,this.toster=a,this._WishlistService=o,this.wish=[],this.loader=!0,this.categorySliderOption={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,dots:!0,autoplayTimeout:3e3,autoplaySpeed:1e3,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!1},this.mainSliderOption={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,dots:!0,autoplayTimeout:3e3,autoplaySpeed:1e3,navSpeed:700,navText:["",""],items:1,nav:!1},this.searchTerm="",this.products=[],this.categeries=[],this.itemsPerPage=0,this.currentPage=1,this.totalItems=0}addCart(e){this._CartService.addtocart(e).subscribe({next:i=>{this.toster.success(i.message,"",{timeOut:2500,closeButton:!0,progressBar:!0}),this._CartService.cartitems.next(i.numOfCartItems)}})}addwishlist(e){this._WishlistService.addwishlist(e).subscribe({next:i=>{this.toster.success(i.message,"",{timeOut:2500,closeButton:!0,progressBar:!0}),this._WishlistService.wishitems.next(i.data.length),this.wish=i.data}})}ngOnInit(){this._HomeServeService.getAllProduct().subscribe({next:e=>{this.products=e.data,this.currentPage=e.metadata.currentPage,this.itemsPerPage=e.metadata.limit,this.totalItems=e.results,this.loader=!1}}),this._HomeServeService.getCategoris().subscribe({next:e=>{this.categeries=e.data}}),this._WishlistService.getwishlist().subscribe({next:e=>{const i=e.data.map(a=>a._id);this.wish=i}})}pageChanged(e){this._HomeServeService.getAllProduct(e).subscribe({next:i=>{this.products=i.data,this.currentPage=i.metadata.currentPage,this.itemsPerPage=i.metadata.limit,this.totalItems=i.results}})}removewishlist(e){this._WishlistService.removeItem(e).subscribe({next:i=>{this._WishlistService.wishitems.next(i.data.length),this.wish=i.data,this.toster.success(i.message,"",{timeOut:2500,closeButton:!0,progressBar:!0})}})}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(h.F),t.Y36(v.N),t.Y36(f._W),t.Y36(x.M))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-home"]],standalone:!0,features:[t._Bn([]),t.jDz],decls:23,vars:19,consts:[[1,"row","g-0"],[1,"col-md-8"],[3,"options"],["carouselSlide",""],[1,"col-md-4"],["src","./assets/slide-1.jpeg","alt","slide-1","height","200",1,"w-100"],["src","./assets/slide-2.jpeg","alt","slide-1","height","200",1,"w-100"],[1,"my-3"],[4,"ngFor","ngForOf"],[1,"my-4"],["type","search","placeholder","Search...",1,"form-control","w-75","mx-auto","my-3",3,"ngModel","ngModelChange"],[1,"row","g-4"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mt-4"],["src","./assets/main-slider-1.jpeg","alt","main-slider","height","400",1,"w-100"],["src","./assets/main-slider-2.jpeg","alt","main-slider","height","400",1,"w-100"],["src","./assets/main-slider-3.jpeg","alt","main-slider","height","400",1,"w-100"],["height","270",1,"w-100",3,"src","alt"],[1,"h5"],[1,"col-md-3"],[1,"product","shadow","p-2"],[1,"cursor-pointer",3,"routerLink"],[1,"w-100","position-relative",3,"src","alt"],[1,"h6","text-main"],[1,"h6"],[1,"d-flex","align-items-center","justify-content-between"],[1,"fas","fa-star","rating-color"],[1,"text-muted"],["class","fa-regular fa-heart ani",3,"click",4,"ngIf"],["class","fa-solid fa-heart ani text-danger",3,"click",4,"ngIf"],[1,"btn-main","w-100",3,"click"],[1,"fa-regular","fa-heart","ani",3,"click"],[1,"fa-solid","fa-heart","ani","text-danger",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"owl-carousel-o",2),t.YNc(4,T,1,0,"ng-template",3),t.YNc(5,C,1,0,"ng-template",3),t.YNc(6,P,1,0,"ng-template",3),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"img",5)(9,"img",6),t.qZA()()(),t.TgZ(10,"section",7)(11,"owl-carousel-o",2),t.YNc(12,Z,2,0,"ng-container",8),t.qZA()(),t.TgZ(13,"section",9)(14,"input",10),t.NdJ("ngModelChange",function(m){return a.searchTerm=m}),t.qZA(),t.TgZ(15,"div",11)(16,"h2"),t._uU(17,"Popular Products"),t.qZA(),t.YNc(18,D,19,11,"div",12),t.ALo(19,"search"),t.ALo(20,"paginate"),t.ALo(21,"slice"),t.qZA(),t._UZ(22,"div",13),t.qZA()),2&i&&(t.xp6(3),t.Q6J("options",a.mainSliderOption),t.xp6(8),t.Q6J("options",a.categorySliderOption),t.xp6(1),t.Q6J("ngForOf",a.categeries),t.xp6(2),t.Q6J("ngModel",a.searchTerm),t.xp6(4),t.Q6J("ngForOf",t.xi3(19,5,t.xi3(20,8,t.Dn7(21,11,a.products,0,12),t.kEZ(15,w,a.itemsPerPage,a.currentPage,a.totalItems)),a.searchTerm)))},dependencies:[c.ez,c.sg,c.O5,c.OU,_.bB,_.Fy,_.Mp,u.Bz,u.rH,p.p,l.u5,l.Fj,l.JJ,l.On,d.JX,d._s],styles:["*[_ngcontent-%COMP%]{z-index:1}"]})}return s})()}}]);