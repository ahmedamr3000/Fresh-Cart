"use strict";(self.webpackChunkproj=self.webpackChunkproj||[]).push([[255],{6255:(l,c,r)=>{r.r(c),r.d(c,{CheckoutComponent:()=>_});var h=r(6814),o=r(6223),t=r(5879),m=r(6261),a=r(8936);let _=(()=>{class e{constructor(n,s,u){this._FormBuilder=n,this._ActivatedRoute=s,this._CartService=u,this.checkout=this._FormBuilder.group({details:[""],phone:[""],city:[""]})}sendcheckout(){this._ActivatedRoute.paramMap.subscribe({next:n=>{this.id=n.get("id"),this._CartService.senddata(this.checkout.value,this.id).subscribe({next:s=>{window.open(s.session.url,"_self")},error:s=>{console.log(s)}})}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(o.qu),t.Y36(m.gz),t.Y36(a.N))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-checkout"]],standalone:!0,features:[t.jDz],decls:15,vars:1,consts:[[1,"w-75","mx-auto",3,"formGroup","ngSubmit"],["for","phone"],["type","tel","formControlName","phone","id","phone",1,"form-control"],["for","city"],["type","text","formControlName","city","id","city",1,"form-control"],["for","details"],["formControlName","details",1,"form-control"],[1,"btn-main","mt-3"]],template:function(s,u){1&s&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return u.sendcheckout()}),t.TgZ(1,"div")(2,"label",1),t._uU(3," Phone"),t.qZA(),t._UZ(4,"input",2),t.qZA(),t.TgZ(5,"div")(6,"label",3),t._uU(7," City"),t.qZA(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"div")(10,"label",5),t._uU(11," Details"),t.qZA(),t._UZ(12,"textarea",6),t.qZA(),t.TgZ(13,"button",7),t._uU(14,"submit"),t.qZA()()),2&s&&t.Q6J("formGroup",u.checkout)},dependencies:[h.ez,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return e})()},8936:(l,c,r)=>{r.d(c,{N:()=>m});var h=r(5619),o=r(5879),t=r(9862);let m=(()=>{class a{constructor(e){this._HttpClient=e,this.headers={token:localStorage.getItem("etoken")},this.cartitems=new h.X(0)}addtocart(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:e},{headers:this.headers})}getusercart(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart",{headers:this.headers})}removeItem(e){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${e}`,{headers:this.headers})}updateitems(e,i){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${e}`,{count:i},{headers:this.headers})}senddata(e,i){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${i}?url=http://localhost:4200`,{shippingAddress:e},{headers:this.headers})}clear(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart",{headers:this.headers})}static#t=this.\u0275fac=function(i){return new(i||a)(o.LFG(t.eN))};static#e=this.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);